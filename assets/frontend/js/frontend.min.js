jQuery(function(e){var a=function(e){return e.is(".processing")||e.parents(".processing").length};function o(a,o){var r="";return e.grep(o,function(e){e.name===a&&(r=e.value)}),r}e(window).bind("found_variation",function(a,o){if(null==o);else{var r={},t="",c="";t=a.hasOwnProperty("target")?a.target:"form.variations_form.cart",e(t).find(".variations select").each(function(){var a=e(this).data("attribute_name")||e(this).attr("name"),o=e(this).val()||"";o.length>0&&0,0,r[a]=o}),o.hasOwnProperty("variation_id")?(c=o.variation_id,e("#product-data-for-enquiry").val(o.variation_id),e(".wcce-add-enquiry-cart-button").attr("data-product_id",o.variation_id)):(o.hasOwnProperty("id"),c=o.id,e("#product-data-for-enquiry").val(o.id),e(".wcce-add-enquiry-cart-button").attr("data-product_id",o.id));var n={action:"add_variation_for_enquiry_mail",product_id:c,variation_data:r};e.post(catalog_enquiry_front.ajaxurl,n,function(e){console.log(e)})}}),e(".variations_form").trigger("found_variation"),e("#woocommerce-mini-catalog").hide(),e(".woocommerce-catalog-mini-enquiry-buttons .woocommerce-catalog-send-enquiry").click(function(a){a.preventDefault(),e("#woocommerce-mini-catalog").show(),e("#woocommerce-mini-catalog #responsive").slideToggle(1e3)}),e(".woocommerce-catalog-mini-enquiry-buttons .catalog-modal .close, .woocommerce-catalog-mini-enquiry-buttons .catalog-modal .btn-default").on("click",function(){e("#woocommerce-mini-catalog #responsive").slideToggle(500)}),e("#woocommerce-catalog-pro .woocommerce-catalog-send-enquiry").click(function(a){a.preventDefault(),e("#woocommerce-catalog-pro #responsive").slideToggle(1e3)}),e("#woocommerce-catalog-pro .catalog-modal .close, #woocommerce-catalog-pro .catalog-modal .btn-default, .woocommerce-catalog-mini-enquiry-buttons .catalog-modal .close, .woocommerce-catalog-mini-enquiry-buttons .catalog-modal .btn-default").on("click",function(){e("#woocommerce-catalog-pro #responsive").slideToggle(500)}),e("#woocommerce-enquiry-form").submit(function(r){var t;if(r.preventDefault(),!0===function(a,r){var t=!0;return e.each(e(a),function(c,n){if("enq_user_name"==n.name&&""==n.value)e(".woocommerce-catalog-enquiry-massage").html(""),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+catalog_enquiry_front.error_levels.name_required+"</span>"),e("#"+n.name).focus(),t=!1;else if("enq_user_email"==n.name&&""==n.value)e(".woocommerce-catalog-enquiry-massage").html(""),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+catalog_enquiry_front.error_levels.email_required+"</span>"),e("#"+n.name).focus(),t=!1;else if("enq_user_email"!=n.name||(l=n.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l))){if(-1!=n.name.indexOf("woocommerce_catalog_enquiry_fields"))return e.each(e(r),function(r,c){if(c.label===n.value&&!0===c.required){var l=n.name;if("file"===c.type){l=l.replace("label","");var i=e('input[name="'+l+'"]')[0].files[0],s=[],m="";e.each(e(c.fileType),function(e,a){1==a.selected&&(s.push(a.value),m+=a.label+", ")}),e.inArray(i.type,s)>-1?(e(".woocommerce-catalog-enquiry-massage").html(""),t=!0):(t=!1,e(".woocommerce-catalog-enquiry-massage").html(""),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+m.replace(/, +$/,"")+" types "+c.label+" "+catalog_enquiry_front.error_levels.is_required+"</span>"),e('input[name="'+l+'"]').focus())}else""===o(l=l.replace("label","value"),a)?(e(".woocommerce-catalog-enquiry-massage").html(""),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+c.label+" "+catalog_enquiry_front.error_levels.is_required+"</span>"),e('input[name="'+l+'"]').focus(),t=!1):(e(".woocommerce-catalog-enquiry-massage").html(""),t=!0)}else c.label===n.value&&"recaptcha"===c.type&&(o(l=(l=n.name).replace("label","value"),a)===catalog_enquiry_front.captcha?t=!0:(e(".woocommerce-catalog-enquiry-massage").html(""),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+c.label+" "+catalog_enquiry_front.error_levels.is_required+"</span>"),t=!1))}),t}else e(".woocommerce-catalog-enquiry-massage").html(""),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+catalog_enquiry_front.error_levels.email_invalid+"</span>"),e("#"+n.name).focus(),t=!1;var l}),t}(e(this).serializeArray(),catalog_enquiry_front.wcce_enquiry_form_data)){e(".woocommerce-catalog-enquiry-massage").html('<span class="ajaxloader" style="display: inline-block;"></span>');var c=new FormData(e(this)[0]),n=catalog_enquiry_front.ajaxurl;c.append("action","send_enquiry_mail"),"single"==e("#product-enquiry-action").val()&&c.append("quantity",e(".quantity .qty").val()),t=e("#responsive"),a(t)||t.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"post",url:n,data:c,contentType:!1,cache:!1,processData:!1,success:function(a){e(".woocommerce-catalog-enquiry-massage").html(""),"norecaptcha"==a.value?(e(".woocommerce-catalog-enquiry-massage").html(""),e("#loader-after-sumitting-the-form").hide(),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+catalog_enquiry_front.error_levels.norecaptcha+"</span>")):"spam"==a.value?(e(".woocommerce-catalog-enquiry-massage").html(""),e("#loader-after-sumitting-the-form").hide(),e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+catalog_enquiry_front.error_levels.spam+"</span>")):1==a.value?(e("#loader-after-sumitting-the-form").hide(),e("#responsive").slideToggle(500),e("#woocommerce-catalo-enquiry-msg").prepend(""),e("#woocommerce-catalo-enquiry-msg").prepend('<div class="woocommerce-message">'+catalog_enquiry_front.ajax_success_msg+".</div>"),"multiple"==a.for&&e(".wcce-cart-wrapper").html(catalog_enquiry_front.no_more_product),void 0!==a.settings.is_page_redirect&&null!==a.settings.is_page_redirect&&(window.location.href=a.redirect_link)):(e(".woocommerce-catalog-enquiry-massage").html(""),e("#loader-after-sumitting-the-form").hide(),""!=a.error_report||"null"!=a.error_report?e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+a.error_report+"</span>"):e(".woocommerce-catalog-enquiry-massage").html('<span style="color:red">'+catalog_enquiry_front.error_levels.ajax_error+"</span>")),e("#responsive").removeClass("processing").unblock();var o=e("#woocommerce-catalo-enquiry-msg");return e("html,body").animate({scrollTop:o.offset().top},1e3),!1}})}})});var modal=document.getElementById("responsive");window.onclick=function(e){e.target==modal&&(modal.style.display="none")};